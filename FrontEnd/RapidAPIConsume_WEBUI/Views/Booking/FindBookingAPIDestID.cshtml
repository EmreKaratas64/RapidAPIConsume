@model List<BookingAPIDestId>
@{
    ViewData["Title"] = "Rezervasyon Ulke Id";
    Layout = "~/Views/AdminLayout/Layout.cshtml";
}


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

 <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Şehir Id Bul</h4>
                <div class="basic-form">
                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label">Şehir Adı</label>
                            <div class="col-sm-10">
                                <input id="txtCity" type="text" class="form-control">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-10">
                                <button id="btngetbyCity" type="button" class="btn btn-info">Bul</button>
                                <a href="/Booking/BookingAPI/" class="btn btn-dark">Otel Sayfasına Git</a>
                            </div>
                        </div>

                </div>
            </div>
        </div>
    </div>

    <div id="hotelIDs">
    </div>

<script>

     $("#btngetbyCity").click(x=>{
        let name = $("#txtCity").val();

        $.ajax({
            contentType:"application/json",
            dataType:"json",
            type:"Get",
            url:"/Booking/BringDestID/",
            data:{city:name},
            success:function(fun2){
                let result = jQuery.parseJSON(fun2);
                let tablehtml  = "<table class=table> <thead class=table-dark> <tr><th>ID</th>  </tr> </thead><tbody class=table-border-bottom-0>";
                $.each(result, (index, value) => {
                    tablehtml += `<tr><td>${value.dest_id}</td></tr>`
                });
                tablehtml += "</tbody></table>";
                  $("#hotelIDs").html(tablehtml);
            }
        });
    });

</script>