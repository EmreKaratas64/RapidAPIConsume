
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<div class="container newsletter mt-5 wow fadeIn" data-wow-delay="0.1s">
    <div class="row justify-content-center">
        <div class="col-lg-10 border rounded p-1">
            <div class="border rounded text-center p-1">
                <div class="bg-white rounded text-center p-5">
                    <h4 class="mb-4"> <span class="text-primary text-uppercase">Mail Bülteni</span>ne abone olun</h4>
                    <div class="position-relative mx-auto" style="max-width: 400px;">
                        <input id="txtmail" class="form-control w-100 py-3 ps-4 pe-5" type="email" placeholder="Mail adresiniz">
                        <button id="btnaddsubscribe" type="button" class="btn btn-primary py-2 px-3 position-absolute top-0 end-0 mt-2 me-2">Abone Ol</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
     $("#btnaddsubscribe").click(function(){
         var validRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;

        if ($("#txtmail").val().match(validRegex)) {

            let values = {
                Mail:$("#txtmail").val()
            };

            $.ajax({
                type:"post",
                url:"/Home/AddSubscribe/",
                data: values,
                success:function(func){
                    let result = jQuery.parseJSON(func);
                        Swal.fire(
              'Tebrikler!',
              'Mail bültenine başarıyla abone olundu!',
              'success'
            )
                }
            });
        }
        else{
             Swal.fire(
              'Opps!',
              'Geçersiz mail adresi!',
              'danger'
            )
        }
    });
</script>